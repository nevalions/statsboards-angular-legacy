<ng-template
  let-observer
  [tuiDialogOptions]="{label: action.toUpperCase() + ' PLAYER', size: 'm'}"
  [(tuiDialog)]="open"
>
  <form
    [formGroup]="playerForm"
    (ngSubmit)="onSubmit(); observer.complete()"
  >

    @if (filteredPersons) {
      <app-search-input-autocomplete
        [placeholder]="'person by last name'"
        [persons]="filteredPersons"
        [formField]="playerForm.controls['person']"
      ></app-search-input-autocomplete>
    } @else {
      NO AVAILABLE PERSONS
    }
    <!--    @if (allAvailablePersons) {-->
    <!--      <app-select-from-person-->
    <!--        [itemsList]="allAvailablePersons"-->
    <!--        [title]="'Person'"-->
    <!--        [formField]="playerForm.controls['person']"-->
    <!--        [nullable]="false"-->
    <!--        [avatarProperty]="null"-->
    <!--        [stringifyFn]="stringifySurnameName"-->
    <!--      ></app-select-from-person>-->
    <!--    } @else {-->
    <!--      NO AVAILABLE PERSONS-->
    <!--    }-->

    <div class="tui-form__row">
      <p>
        <app-create-button-in-form
          [action]="action"
          [disabled]="!playerForm.valid"
        ></app-create-button-in-form>
        <app-cancel-button-in-form
          (click)="observer.complete()"
        ></app-cancel-button-in-form>
      </p>
    </div>
  </form>
</ng-template>
