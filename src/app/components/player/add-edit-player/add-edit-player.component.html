<ng-template
  let-observer
  [tuiDialogOptions]="{label: action.toUpperCase() + ' PLAYER', size: 'm'}"
  [(tuiDialog)]="open"
>
  <form
    [formGroup]="playerForm"
    (ngSubmit)="onSubmit(); observer.complete()"
  >

    @if (allAvailablePersons) {
      <app-search-person-input-autocomplete
        [placeholder]="'person by last name'"
        [persons]="allAvailablePersons"
        [control]="playerForm.controls['person']"
      ></app-search-person-input-autocomplete>
    } @else {
      NO AVAILABLE PERSONS
    }

    <div class="tui-form__row">
      <p>
        <app-create-button-in-form
          [action]="action"
          [disabled]="!playerForm.valid"
        ></app-create-button-in-form>
        <app-cancel-button-in-form
          (click)="observer.complete()"
        ></app-cancel-button-in-form>
      </p>
    </div>
  </form>
</ng-template>
